# BLACKPINK 팬 페이지

기존의 [블랙핑크 공식 홈페이지](https://www.ygfamily.com/artist/main.asp?LANGDIV=K&ATYPE=2&ARTIDX=70)를 세련되게 만들어 보자.

[BLACKPINK IN YOUR AREA](https://bbumjun.github.io/BLACKPINK-fan-page/dist/)

----

### 반응형 이미지를 사용하는 이유?

큰 화면에 해상도가 작은 이미지를 보여주게 되면 이미지가 깨져 보일 수 있다. 반대로 작은 화면에 너무 큰 화면을 보여주면 쓸데없는 데이터가 낭비되고 성능도 저하된다.  기기에 따라 달라지는 화면의 크기에 맞는 해상도의 이미지를 제공하는 것이 반응형 디자인에서 필요한 것이다. 

img 태그에서 srcset, sizes 속성을 사용해 화면에 알맞는 해상도의 이미지를 로드할 수 있다.

### 왜 css 나 자바스크립트에서 하지 않고 html에서?

브라우저가 페이지를 로드하는 순서와 관련이 있다. 브라우저가 페이지를 불러오기 시작할 때, 메인 파서가 CSS와 자바스크립트를 로드하고 해석하기 시작하면 별도의 스레드에서 html 파서가 이미지를 이미 다운로드 하기 시작한다. CSS와 JS가 로드된 시점에는 이미지가 이미 로드된 상태이기 때문에 성능면에서도 반응형 디자인 면에서도 좋지 못하다.

### 최신 포맷 webp를 사용하자.

기존의 jpg,png 포맷에 비해 작은 용량과 높은 질을 동시에 유지할 수 있다. 사파리 등 일부 브라우저에서 호환이 안되도 `<picture>` 태그가 fallback 을 제공하기 때문에 걱정없이 사용할 수 있다.

----

html 의 무결성을 테스트하기 위해 w3c의 [markup validator](https://validator.w3.org/)를 사용한다.

----

### IntersectionObserver API 를 활용하자.

웹사이트를 개발할 때 특정 위치에 도달 했을때 어떠한 액션을 취하기 위해 scroll이벤트를 사용한다면, 스크롤을 움직이는 짧은 시간동안 수백번의 이벤트가 호출되고 또한 동기적으로 실행되기 때문에 메인스레드의 성능에 많은 영향을 끼친다. 디바운스와 스로틀링으로 이를 어느 정도 개선할 수 있다. 하지만 또다른 문제는 특정 엘리먼트의 위치를 확인하기 위해서 getBoundingClientRect 함수를 사용해야 하는데, 이 함수의 문제점은 호출될 때마다 브라우저가 이 요소의 크기,위치정보를 갱신된 값을 가져오기 위해 매번 문서의 일부 또는 전체를 다시 그리게 되는 reflow현상이 발생하면서 성능을 저하시킬 수 있다. 

크롬 51버전부터 사용할 수 있게 된 web API의 IntersectionObserver API는 위와 같은 문제를 해결할 수 있게 되었다. Observer에 감시하고자 하는 엘리먼트를 등록하면 이 엘리먼트가 화면에 보이거나 사라질 때 비동기 이벤트를 발생시켜 주기 떄문에 scroll 이벤트 기반의 element 관찰에서 발생하는 렌더링 성능이나 이벤트 연속 호출등의 문제없이 사용할 수 있다.

-----


